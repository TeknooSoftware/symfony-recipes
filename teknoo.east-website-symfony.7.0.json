{
  "manifests": {
    "teknoo/east-website-symfony": {
      "manifest": {
        "bundles": {
          "Doctrine\\Bundle\\MongoDBBundle\\DoctrineMongoDBBundle": [
            "all"
          ],
          "Teknoo\\DI\\SymfonyBridge\\DIBridgeBundle": [
            "all"
          ],
          "Teknoo\\East\\FoundationBundle\\EastFoundationBundle": [
            "all"
          ]
        },
        "copy-from-recipe": {
          "config/": "%CONFIG_DIR%",
        }
      },
      "files": {
        "config/packages/east_website_di.yaml": {
          "contents": [
            "di_bridge:",
            "    definitions:",
            "        - '%kernel.project_dir%/vendor/teknoo/east-website/src/di.php'",
            "        - '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/doctrine/di.php'",
            "        - '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/symfony/Resources/config/di.php'",
            "        - '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/symfony/Resources/config/laminas_di.php'",
            "        - '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/di.php'",
            "    import:",
            "        Doctrine\\Persistence\\ObjectManager: 'doctrine_mongodb.odm.default_document_manager'"
          ],
          "executable": false
        },
        "config/packages/east_website_doctrine_mongodb.yaml": {
          "contents": [
            "doctrine_mongodb:",
            "    document_managers:",
            "        default:",
            "            auto_mapping: true",
            "            mappings:",
            "                TeknooEastWebsite:",
            "                    type: 'xml'",
            "                    dir: '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/doctrine/config/universal'",
            "                    is_bundle: false",
            "                    prefix: 'Teknoo\\East\\Website\\Object'",
            "                TeknooEastWebsiteDoctrine:",
            "                    type: 'xml'",
            "                    dir: '%kernel.project_dir%/vendor/teknoo/east-website/infrastructures/doctrine/config/doctrine'",
            "                    is_bundle: false",
            "                    prefix: 'Teknoo\\East\\Website\\Doctrine\\Object'"
          ],
          "executable": false
        },
        "config/packages/east_website_security.yaml.dist": {
          "contents": [
            "security:",
            "    enable_authenticator_manager: true",
            "",
            "    role_hierarchy:",
            "        ROLE_ADMIN: 'ROLE_USER'",
            "",
            "    providers:",
            "        with_password:",
            "            id: 'Teknoo\\East\\WebsiteBundle\\Provider\\PasswordAuthenticatedUserProvider'",
            "        from_third_party:",
            "            id: 'Teknoo\\East\\WebsiteBundle\\Provider\\ThirdPartyAuthenticatedUserProvider'",
            "        all_providers:",
            "            chain:",
            "                providers: ['with_password', 'from_third_party']",
            "    password_hashers:",
            "        Teknoo\\East\\WebsiteBundle\\Object\\PasswordAuthenticatedUser:",
            "            algorithm: '%teknoo.east.website.bundle.password_authenticated_user_provider.default_algo%'",
            "",
            "    firewalls:",
            "        # disables authentication for assets and the profiler, adapt it according to your needs",
            "        dev:",
            "            pattern: ^/(_(profiler|wdt)|css|images|js)/",
            "            security: false",
            "",
            "        #Admin area, allow anonymous for login",
            "        admin_login:",
            "            pattern: '^/admin/login$'",
            "            security: false",
            "",
            "        admin_gitlab_login:",
            "            pattern: '^/admin/gitlab/login$'",
            "            security: false",
            "",
            "        #require admin role for all others pages",
            "        admin_area:",
            "            pattern: '^/admin'",
            "            custom_authenticators:",
            "                - '%teknoo.east.website.bundle.security.authenticator.oauth2.class%'",
            "            provider: all_providers",
            "            form_login:",
            "                provider: 'with_password'",
            "                check_path: 'admin_website_check'",
            "                login_path: 'admin_website_login'",
            "                default_target_path: 'admin_website_home'",
            "                always_use_default_target_path: false",
            "                use_referer: true",
            "                enable_csrf: true",
            "            remember_me:",
            "                secret: '%env(APP_REMEMBER_SECRET)%'",
            "                secure: true",
            "                httponly: true",
            "            logout:",
            "                path: 'admin_website_logout'",
            "                target: 'admin_website_home'",
            "",
            "        main: ~",
            "",
            "    access_control:",
            "        #Admin : require role admin",
            "        - { path: '^/admin', roles: ROLE_ADMIN, requires_channel: https }",
            "        #Front : available for anyone",
            "        - { path: '^/', requires_channel: https }",
            ""
          ],
          "executable": false
        },
        "config/routes/website.yaml": {
          "contents": [
            "admin_website_home:",
            "    path: '/admin'",
            "    defaults:",
            "        _controller: 'teknoo.east.website.endpoint.static'",
            "        template: '@@TeknooEastWebsite/Admin/index.html.twig'",
            "        errorTemplate: '@@TeknooEastWebsite/Error/404.html.twig'",
            "",
            "admin_website_logout:",
            "    path: '/admin/logout'",
            "    defaults:",
            "        _controller: 'teknoo.east.website.endpoint.static'",
            "        template: '@@TeknooEastWebsite/Admin/login.html.twig'",
            "        errorTemplate: '@@TeknooEastWebsite/Error/404.html.twig'",
            "",
            "admin_website_login:",
            "    path: '/admin/login'",
            "    defaults:",
            "        _controller: 'teknoo.east.website.endpoint.static'",
            "        template: '@@TeknooEastWebsite/Admin/login.html.twig'",
            "        errorTemplate: '@@TeknooEastWebsite/Error/404.html.twig'",
            "",
            "admin_website_check:",
            "    path: '/admin/check'",
            "    methods: ['POST']",
            "    defaults:",
            "        _controller: 'teknoo.east.website.endpoint.static'",
            "        template: '@@TeknooEastWebsite/Admin/index.html.twig'",
            "        errorTemplate: '@@TeknooEastWebsite/Error/404.html.twig'",
            "",
            "admin_media_embedded_list:",
            "    path: '/admin/media/embedded/list'",
            "    methods:  ['GET']",
            "    defaults:",
            "        _controller: 'teknoo.east.website.endpoint.crud.list'",
            "        loader: '@Teknoo\\East\\Website\\Loader\\MediaLoader'",
            "        defaultOrderDirection: 'ASC'",
            "        itemsPerPage: 20",
            "        template: '@@TeknooEastWebsite/AdminMedia/popup.html.twig'",
            "        errorTemplate: '@@TeknooEastWebsite/Error/404.html.twig'",
            "",
            "admin_website:",
            "    resource: '@TeknooEastWebsiteBundle/Resources/config/admin_routing.yml'",
            "    prefix: '/admin'",
            "",
            "website:",
            "    resource: '@TeknooEastWebsiteBundle/Resources/config/routing.yml'",
            ""
          ],
          "executable": false
        }
      },
      "ref": "86b785a5eb5bb1325114442368d727e8a6385e88"
    }
  }
}
